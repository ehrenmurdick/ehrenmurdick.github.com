<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: ToplevelInstaller</title>

  <link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

  <script src="./js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>

</head>
<body class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="./setup_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="setup.rb">setup.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      <!-- Namespace Contents -->
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-invoke">::invoke</a></li>
          
          <li><a href="#method-c-load_rbconfig">::load_rbconfig</a></li>
          
          <li><a href="#method-c-multipackage-3F">::multipackage?</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-config">#config</a></li>
          
          <li><a href="#method-i-exec_clean">#exec_clean</a></li>
          
          <li><a href="#method-i-exec_config">#exec_config</a></li>
          
          <li><a href="#method-i-exec_distclean">#exec_distclean</a></li>
          
          <li><a href="#method-i-exec_install">#exec_install</a></li>
          
          <li><a href="#method-i-exec_setup">#exec_setup</a></li>
          
          <li><a href="#method-i-exec_show">#exec_show</a></li>
          
          <li><a href="#method-i-exec_test">#exec_test</a></li>
          
          <li><a href="#method-i-init_installers">#init_installers</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-invoke">#invoke</a></li>
          
          <li><a href="#method-i-objdir_root">#objdir_root</a></li>
          
          <li><a href="#method-i-parsearg_clean">#parsearg_clean</a></li>
          
          <li><a href="#method-i-parsearg_config">#parsearg_config</a></li>
          
          <li><a href="#method-i-parsearg_distclean">#parsearg_distclean</a></li>
          
          <li><a href="#method-i-parsearg_global">#parsearg_global</a></li>
          
          <li><a href="#method-i-parsearg_install">#parsearg_install</a></li>
          
          <li><a href="#method-i-parsearg_no_options">#parsearg_no_options</a></li>
          
          <li><a href="#method-i-parsearg_setup">#parsearg_setup</a></li>
          
          <li><a href="#method-i-parsearg_show">#parsearg_show</a></li>
          
          <li><a href="#method-i-parsearg_test">#parsearg_test</a></li>
          
          <li><a href="#method-i-print_usage">#print_usage</a></li>
          
          <li><a href="#method-i-relpath">#relpath</a></li>
          
          <li><a href="#method-i-run_metaconfigs">#run_metaconfigs</a></li>
          
          <li><a href="#method-i-srcdir_root">#srcdir_root</a></li>
          
          <li><a href="#method-i-valid_task-3F">#valid_task?</a></li>
          
          <li><a href="#method-i-valid_task_re">#valid_task_re</a></li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="./History_txt.html">History.txt</a></li>
        
          <li class="file"><a href="./Install_txt.html">Install.txt</a></li>
        
          <li class="file"><a href="./Licence_txt.html">Licence.txt</a></li>
        
          <li class="file"><a href="./Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="./README_txt.html">README.txt</a></li>
        
          <li class="file"><a href="./Rakefile.html">Rakefile</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./Color.html">Color</a></li>
        
          <li><a href="./Color/CMYK.html">Color::CMYK</a></li>
        
          <li><a href="./Color/CSS.html">Color::CSS</a></li>
        
          <li><a href="./Color/GrayScale.html">Color::GrayScale</a></li>
        
          <li><a href="./Color/GrayScale.html">Color::GreyScale</a></li>
        
          <li><a href="./Color/HSL.html">Color::HSL</a></li>
        
          <li><a href="./Color/Palette.html">Color::Palette</a></li>
        
          <li><a href="./Color/Palette/AdobeColor.html">Color::Palette::AdobeColor</a></li>
        
          <li><a href="./Color/Palette/Gimp.html">Color::Palette::Gimp</a></li>
        
          <li><a href="./Color/Palette/MonoContrast.html">Color::Palette::MonoContrast</a></li>
        
          <li><a href="./Color/RGB.html">Color::RGB</a></li>
        
          <li><a href="./Color/RGB/Metallic.html">Color::RGB::Metallic</a></li>
        
          <li><a href="./Color/YIQ.html">Color::YIQ</a></li>
        
          <li><a href="./TestColor.html">TestColor</a></li>
        
          <li><a href="./TestColor/TestCMYK.html">TestColor::TestCMYK</a></li>
        
          <li><a href="./TestColor/TestCSS.html">TestColor::TestCSS</a></li>
        
          <li><a href="./TestColor/TestColor.html">TestColor::TestColor</a></li>
        
          <li><a href="./TestColor/TestGrayScale.html">TestColor::TestGrayScale</a></li>
        
          <li><a href="./TestColor/TestHSL.html">TestColor::TestHSL</a></li>
        
          <li><a href="./TestColor/TestPalette.html">TestColor::TestPalette</a></li>
        
          <li><a href="./TestColor/TestPalette/TestAdobeColor.html">TestColor::TestPalette::TestAdobeColor</a></li>
        
          <li><a href="./TestColor/TestPalette/TestGimp.html">TestColor::TestPalette::TestGimp</a></li>
        
          <li><a href="./TestColor/TestPalette/TestMonoContrast.html">TestColor::TestPalette::TestMonoContrast</a></li>
        
          <li><a href="./TestColor/TestRGB.html">TestColor::TestRGB</a></li>
        
          <li><a href="./TestColor/TestYIQ.html">TestColor::TestYIQ</a></li>
        
          <li><a href="./ConfigTable.html">ConfigTable</a></li>
        
          <li><a href="./ConfigTable/BoolItem.html">ConfigTable::BoolItem</a></li>
        
          <li><a href="./ConfigTable/ExecItem.html">ConfigTable::ExecItem</a></li>
        
          <li><a href="./ConfigTable/Item.html">ConfigTable::Item</a></li>
        
          <li><a href="./ConfigTable/MetaConfigEnvironment.html">ConfigTable::MetaConfigEnvironment</a></li>
        
          <li><a href="./ConfigTable/PackageSelectionItem.html">ConfigTable::PackageSelectionItem</a></li>
        
          <li><a href="./ConfigTable/PathItem.html">ConfigTable::PathItem</a></li>
        
          <li><a href="./ConfigTable/ProgramItem.html">ConfigTable::ProgramItem</a></li>
        
          <li><a href="./ConfigTable/SelectItem.html">ConfigTable::SelectItem</a></li>
        
          <li><a href="./Errno.html">Errno</a></li>
        
          <li><a href="./Errno/ENOTEMPTY.html">Errno::ENOTEMPTY</a></li>
        
          <li><a href="./Installer.html">Installer</a></li>
        
          <li><a href="./Installer/Shebang.html">Installer::Shebang</a></li>
        
          <li><a href="./Enumerable.html">Enumerable</a></li>
        
          <li><a href="./File.html">File</a></li>
        
          <li><a href="./FileOperations.html">FileOperations</a></li>
        
          <li><a href="./HookScriptAPI.html">HookScriptAPI</a></li>
        
          <li><a href="./Object.html">Object</a></li>
        
          <li><a href="./SetupError.html">SetupError</a></li>
        
          <li><a href="./ToplevelInstaller.html">ToplevelInstaller</a></li>
        
          <li><a href="./ToplevelInstallerMulti.html">ToplevelInstallerMulti</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">ToplevelInstaller</h1>

    <div id="description">
      
    </div>

    <!-- Constants -->
    
    <div id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt><a name="Version">Version</a></dt>
        
        <dd class="description"></dd>
        
      
        <dt><a name="Copyright">Copyright</a></dt>
        
        <dd class="description"></dd>
        
      
        <dt><a name="TASKS">TASKS</a></dt>
        
        <dd class="description"></dd>
        
      
      </dl>
    </div>
    

    <!-- Attributes -->
    

    <!-- Methods -->
    
    <div id="public-class-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="invoke-method" class="method-detail ">
        <a name="method-c-invoke"></a>

        
        <div class="method-heading">
          <span class="method-name">invoke</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="invoke-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 767</span>
def <span class="ruby-constant">ToplevelInstaller</span>.invoke
  config = <span class="ruby-constant">ConfigTable</span>.new(load_rbconfig())
  config.load_standard_entries
  config.load_multipackage_entries if multipackage?
  config.fixup
  klass = (multipackage?() ? <span class="ruby-constant">ToplevelInstallerMulti</span> : <span class="ruby-constant">ToplevelInstaller</span>)
  klass.new(<span class="ruby-constant">File</span>.dirname($0), config).invoke
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="load_rbconfig-method" class="method-detail ">
        <a name="method-c-load_rbconfig"></a>

        
        <div class="method-heading">
          <span class="method-name">load_rbconfig</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="load_rbconfig-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 780</span>
def <span class="ruby-constant">ToplevelInstaller</span>.load_rbconfig
  if arg = <span class="ruby-constant">ARGV</span>.detect {|arg| <span class="ruby-regexp">/\A--rbconfig=/</span> =~ arg }
    <span class="ruby-constant">ARGV</span>.delete(arg)
    load <span class="ruby-constant">File</span>.expand_path(arg.split(<span class="ruby-regexp">/=/</span>, 2)[1])
    $&quot;.push <span class="ruby-string">'rbconfig.rb'</span>
  else
    require <span class="ruby-string">'rbconfig'</span>
  end
  ::<span class="ruby-constant">Config</span>::<span class="ruby-constant">CONFIG</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="multipackage-3F-method" class="method-detail ">
        <a name="method-c-multipackage-3F"></a>

        
        <div class="method-heading">
          <span class="method-name">multipackage?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="multipackage-3F-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 776</span>
def <span class="ruby-constant">ToplevelInstaller</span>.multipackage?
  <span class="ruby-constant">File</span>.dir?(<span class="ruby-constant">File</span>.dirname($0) + <span class="ruby-string">'/packages'</span>)
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="new-method" class="method-detail ">
        <a name="method-c-new"></a>

        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(ardir_root, config)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="new-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 791</span>
def initialize(ardir_root, config)
  <span class="ruby-ivar">@ardir</span> = <span class="ruby-constant">File</span>.expand_path(ardir_root)
  <span class="ruby-ivar">@config</span> = config
  <span class="ruby-comment"># cache</span>
  <span class="ruby-ivar">@valid_task_re</span> = nil
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </div>
  
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="config-method" class="method-detail ">
        <a name="method-i-config"></a>

        
        <div class="method-heading">
          <span class="method-name">config</span><span
            class="method-args">(key)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="config-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 798</span>
def config(key)
  <span class="ruby-ivar">@config</span>[key]
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_clean-method" class="method-detail ">
        <a name="method-i-exec_clean"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_clean</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_clean-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 1013</span>
def exec_clean
  <span class="ruby-ivar">@installer</span>.exec_clean
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_config-method" class="method-detail ">
        <a name="method-i-exec_config"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_config</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Task Handlers</p>
          

          
          <div class="method-source-code"
            id="exec_config-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 990</span>
def exec_config
  <span class="ruby-ivar">@installer</span>.exec_config
  <span class="ruby-ivar">@config</span>.save   <span class="ruby-comment"># must be final</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_distclean-method" class="method-detail ">
        <a name="method-i-exec_distclean"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_distclean</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_distclean-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 1017</span>
def exec_distclean
  <span class="ruby-ivar">@installer</span>.exec_distclean
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_install-method" class="method-detail ">
        <a name="method-i-exec_install"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_install</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_install-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 999</span>
def exec_install
  <span class="ruby-ivar">@installer</span>.exec_install
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_setup-method" class="method-detail ">
        <a name="method-i-exec_setup"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_setup</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_setup-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 995</span>
def exec_setup
  <span class="ruby-ivar">@installer</span>.exec_setup
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_show-method" class="method-detail ">
        <a name="method-i-exec_show"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_show</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_show-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 1007</span>
def exec_show
  <span class="ruby-ivar">@config</span>.each do |i|
    printf <span class="ruby-string">&quot;%-20s %s\n&quot;</span>, i.name, i.value if i.value?
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="exec_test-method" class="method-detail ">
        <a name="method-i-exec_test"></a>

        
        <div class="method-heading">
          <span class="method-name">exec_test</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="exec_test-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 1003</span>
def exec_test
  <span class="ruby-ivar">@installer</span>.exec_test
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="init_installers-method" class="method-detail ">
        <a name="method-i-init_installers"></a>

        
        <div class="method-heading">
          <span class="method-name">init_installers</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="init_installers-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 834</span>
def init_installers
  <span class="ruby-ivar">@installer</span> = <span class="ruby-constant">Installer</span>.new(<span class="ruby-ivar">@config</span>, <span class="ruby-ivar">@ardir</span>, <span class="ruby-constant">File</span>.expand_path(<span class="ruby-string">'.'</span>))
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="inspect-method" class="method-detail ">
        <a name="method-i-inspect"></a>

        
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="inspect-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 802</span>
def inspect
  &quot;#&lt;#{self.class} #{__id__()}&gt;&quot;
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="invoke-method" class="method-detail ">
        <a name="method-i-invoke"></a>

        
        <div class="method-heading">
          <span class="method-name">invoke</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="invoke-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 806</span>
def invoke
  run_metaconfigs
  case task = parsearg_global()
  when nil, <span class="ruby-string">'all'</span>
    parsearg_config
    init_installers
    exec_config
    exec_setup
    exec_install
  else
    case task
    when <span class="ruby-string">'config'</span>, <span class="ruby-string">'test'</span>
      ;
    when <span class="ruby-string">'clean'</span>, <span class="ruby-string">'distclean'</span>
      <span class="ruby-ivar">@config</span>.load_savefile if <span class="ruby-constant">File</span>.exist?(<span class="ruby-ivar">@config</span>.savefile)
    else
      <span class="ruby-ivar">@config</span>.load_savefile
    end
    __send__ &quot;parsearg_#{task}&quot;
    init_installers
    __send__ &quot;exec_#{task}&quot;
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="objdir_root-method" class="method-detail ">
        <a name="method-i-objdir_root"></a>

        
        <div class="method-heading">
          <span class="method-name">objdir_root</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="objdir_root-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 846</span>
def objdir_root
  <span class="ruby-string">'.'</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="parsearg_clean-method" class="method-detail method-alias">
        <a name="method-i-parsearg_clean"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_clean</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ToplevelInstaller.html#method-i-parsearg_no_options">parsearg_no_options</a>
        </div>
        
      </div>

    
      <div id="parsearg_config-method" class="method-detail ">
        <a name="method-i-parsearg_config"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_config</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="parsearg_config-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 905</span>
def parsearg_config
  evalopt = []
  set = []
  <span class="ruby-ivar">@config</span>.config_opt = []
  while i = <span class="ruby-constant">ARGV</span>.shift
    if <span class="ruby-regexp">/\A--?\z/</span> =~ i
      <span class="ruby-ivar">@config</span>.config_opt = <span class="ruby-constant">ARGV</span>.dup
      break
    end
    name, value = *<span class="ruby-ivar">@config</span>.parse_opt(i)
    if <span class="ruby-ivar">@config</span>.value_config?(name)
      <span class="ruby-ivar">@config</span>[name] = value
    else
      evalopt.push [name, value]
    end
    set.push name
  end
  evalopt.each do |name, value|
    <span class="ruby-ivar">@config</span>.lookup(name).evaluate value, <span class="ruby-ivar">@config</span>
  end
  <span class="ruby-comment"># Check if configuration is valid</span>
  set.each do |n|
    <span class="ruby-ivar">@config</span>[n] if <span class="ruby-ivar">@config</span>.value_config?(n)
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="parsearg_distclean-method" class="method-detail method-alias">
        <a name="method-i-parsearg_distclean"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_distclean</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ToplevelInstaller.html#method-i-parsearg_no_options">parsearg_no_options</a>
        </div>
        
      </div>

    
      <div id="parsearg_global-method" class="method-detail ">
        <a name="method-i-parsearg_global"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_global</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Option Parsing</p>
          

          
          <div class="method-source-code"
            id="parsearg_global-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 858</span>
def parsearg_global
  while arg = <span class="ruby-constant">ARGV</span>.shift
    case arg
    when <span class="ruby-regexp">/\A\w+\z/</span>
      setup_rb_error &quot;invalid task: #{arg}&quot; unless valid_task?(arg)
      return arg
    when <span class="ruby-string">'-q'</span>, <span class="ruby-string">'--quiet'</span>
      <span class="ruby-ivar">@config</span>.verbose = false
    when <span class="ruby-string">'--verbose'</span>
      <span class="ruby-ivar">@config</span>.verbose = true
    when <span class="ruby-string">'--help'</span>
      print_usage $stdout
      exit 0
    when <span class="ruby-string">'--version'</span>
      puts &quot;#{File.basename($0)} version #{Version}&quot;
      exit 0
    when <span class="ruby-string">'--copyright'</span>
      puts <span class="ruby-constant">Copyright</span>
      exit 0
    else
      setup_rb_error &quot;unknown global option '#{arg}'&quot;
    end
  end
  nil
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="parsearg_install-method" class="method-detail ">
        <a name="method-i-parsearg_install"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_install</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="parsearg_install-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 931</span>
def parsearg_install
  <span class="ruby-ivar">@config</span>.no_harm = false
  <span class="ruby-ivar">@config</span>.install_prefix = <span class="ruby-string">''</span>
  while a = <span class="ruby-constant">ARGV</span>.shift
    case a
    when <span class="ruby-string">'--no-harm'</span>
      <span class="ruby-ivar">@config</span>.no_harm = true
    when <span class="ruby-regexp">/\A--prefix=/</span>
      path = a.split(<span class="ruby-regexp">/=/</span>, 2)[1]
      path = <span class="ruby-constant">File</span>.expand_path(path) unless path[0,1] == <span class="ruby-string">'/'</span>
      <span class="ruby-ivar">@config</span>.install_prefix = path
    else
      setup_rb_error &quot;install: unknown option #{a}&quot;
    end
  end
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="parsearg_no_options-method" class="method-detail ">
        <a name="method-i-parsearg_no_options"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_no_options</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="parsearg_no_options-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 892</span>
def parsearg_no_options
  unless <span class="ruby-constant">ARGV</span>.empty?
    task = caller(0).first.slice(<span class="ruby-regexp">%&lt;`parsearg_(\w+)'&gt;</span>, 1)
    setup_rb_error &quot;#{task}: unknown options: #{ARGV.join(' ')}&quot;
  end
end</pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="ToplevelInstaller.html#method-i-parsearg_show">parsearg_show</a>, <a href="ToplevelInstaller.html#method-i-parsearg_setup">parsearg_setup</a>, <a href="ToplevelInstaller.html#method-i-parsearg_test">parsearg_test</a>, <a href="ToplevelInstaller.html#method-i-parsearg_clean">parsearg_clean</a>, <a href="ToplevelInstaller.html#method-i-parsearg_distclean">parsearg_distclean</a>
        </div>
        

        
      </div>

    
      <div id="parsearg_setup-method" class="method-detail method-alias">
        <a name="method-i-parsearg_setup"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_setup</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ToplevelInstaller.html#method-i-parsearg_no_options">parsearg_no_options</a>
        </div>
        
      </div>

    
      <div id="parsearg_show-method" class="method-detail method-alias">
        <a name="method-i-parsearg_show"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_show</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ToplevelInstaller.html#method-i-parsearg_no_options">parsearg_no_options</a>
        </div>
        
      </div>

    
      <div id="parsearg_test-method" class="method-detail method-alias">
        <a name="method-i-parsearg_test"></a>

        
        <div class="method-heading">
          <span class="method-name">parsearg_test</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="ToplevelInstaller.html#method-i-parsearg_no_options">parsearg_no_options</a>
        </div>
        
      </div>

    
      <div id="print_usage-method" class="method-detail ">
        <a name="method-i-print_usage"></a>

        
        <div class="method-heading">
          <span class="method-name">print_usage</span><span
            class="method-args">(out)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="print_usage-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 948</span>
def print_usage(out)
  out.puts <span class="ruby-string">'Typical Installation Procedure:'</span>
  out.puts &quot;  $ ruby #{File.basename $0} config&quot;
  out.puts &quot;  $ ruby #{File.basename $0} setup&quot;
  out.puts &quot;  # ruby #{File.basename $0} install (may require root privilege)&quot;
  out.puts
  out.puts <span class="ruby-string">'Detailed Usage:'</span>
  out.puts &quot;  ruby #{File.basename $0} &lt;global option&gt;&quot;
  out.puts &quot;  ruby #{File.basename $0} [&lt;global options&gt;] &lt;task&gt; [&lt;task options&gt;]&quot;

  fmt = <span class="ruby-string">&quot;  %-24s %s\n&quot;</span>
  out.puts
  out.puts <span class="ruby-string">'Global options:'</span>
  out.printf fmt, <span class="ruby-string">'-q,--quiet'</span>,   <span class="ruby-string">'suppress message outputs'</span>
  out.printf fmt, <span class="ruby-string">'   --verbose'</span>, <span class="ruby-string">'output messages verbosely'</span>
  out.printf fmt, <span class="ruby-string">'   --help'</span>,    <span class="ruby-string">'print this message'</span>
  out.printf fmt, <span class="ruby-string">'   --version'</span>, <span class="ruby-string">'print version and quit'</span>
  out.printf fmt, <span class="ruby-string">'   --copyright'</span>,  <span class="ruby-string">'print copyright and quit'</span>
  out.puts
  out.puts <span class="ruby-string">'Tasks:'</span>
  <span class="ruby-constant">TASKS</span>.each do |name, desc|
    out.printf fmt, name, desc
  end

  fmt = <span class="ruby-string">&quot;  %-24s %s [%s]\n&quot;</span>
  out.puts
  out.puts <span class="ruby-string">'Options for CONFIG or ALL:'</span>
  <span class="ruby-ivar">@config</span>.each do |item|
    out.printf fmt, item.help_opt, item.description, item.help_default
  end
  out.printf fmt, <span class="ruby-string">'--rbconfig=path'</span>, <span class="ruby-string">'rbconfig.rb to load'</span>,<span class="ruby-string">&quot;running ruby's&quot;</span>
  out.puts
  out.puts <span class="ruby-string">'Options for INSTALL:'</span>
  out.printf fmt, <span class="ruby-string">'--no-harm'</span>, <span class="ruby-string">'only display what to do if given'</span>, <span class="ruby-string">'off'</span>
  out.printf fmt, <span class="ruby-string">'--prefix=path'</span>,  <span class="ruby-string">'install path prefix'</span>, <span class="ruby-string">''</span>
  out.puts
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="relpath-method" class="method-detail ">
        <a name="method-i-relpath"></a>

        
        <div class="method-heading">
          <span class="method-name">relpath</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="relpath-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 850</span>
def relpath
  <span class="ruby-string">'.'</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="run_metaconfigs-method" class="method-detail ">
        <a name="method-i-run_metaconfigs"></a>

        
        <div class="method-heading">
          <span class="method-name">run_metaconfigs</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="run_metaconfigs-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 830</span>
def run_metaconfigs
  <span class="ruby-ivar">@config</span>.load_script &quot;#{@ardir}/metaconfig&quot;
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="srcdir_root-method" class="method-detail ">
        <a name="method-i-srcdir_root"></a>

        
        <div class="method-heading">
          <span class="method-name">srcdir_root</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Hook Script API bases</p>
          

          
          <div class="method-source-code"
            id="srcdir_root-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 842</span>
def srcdir_root
  <span class="ruby-ivar">@ardir</span>
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="valid_task-3F-method" class="method-detail ">
        <a name="method-i-valid_task-3F"></a>

        
        <div class="method-heading">
          <span class="method-name">valid_task?</span><span
            class="method-args">(t)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="valid_task-3F-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 884</span>
def valid_task?(t)
  valid_task_re() =~ t
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="valid_task_re-method" class="method-detail ">
        <a name="method-i-valid_task_re"></a>

        
        <div class="method-heading">
          <span class="method-name">valid_task_re</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code"
            id="valid_task_re-source">
<pre>
<span class="ruby-comment"># File setup.rb, line 888</span>
def valid_task_re
  <span class="ruby-ivar">@valid_task_re</span> ||= /\A(?:#{TASKS.map {|task,desc| task }.join('|')})\z/
end</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </div>
  

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

